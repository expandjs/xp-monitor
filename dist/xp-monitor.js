!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=12)}([function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=XP},function(t,e,n){"use strict";var i,r=n(15),s=n(5),o=n(21);for(i in s)s.hasOwnProperty(i)&&(e[i]=s[i]);for(i in o)o.hasOwnProperty(i)&&(e[i]=o[i]);e.createCollection=function(t){return new r(t)},e.Collection=r},function(t,e,n){"use strict";e.NANOSECONDS=1e-6,e.MICROSECONDS=.001,e.MILLISECONDS=1,e.SECONDS=1e3*e.MILLISECONDS,e.MINUTES=60*e.SECONDS,e.HOURS=60*e.MINUTES,e.DAYS=24*e.HOURS},function(t,e,n){"use strict";(function(e){var i=n(18),r=n(19).EventEmitter;function s(t){t=t||{},r.call(this),t.getTime&&(this._getTime=t.getTime),this._start=this._getTime(),this._ended=!1}i(s,r),s.prototype.end=function(){if(!this._ended){this._ended=!0;var t=this._getTime()-this._start;return this.emit("end",t),t}},s.prototype._getTime=function(){if(!e.hrtime)return Date.now();var t=e.hrtime();return 1e3*t[0]+t[1]/1e6},t.exports=s}).call(e,n(10))},function(t,e,n){"use strict";e.Counter=n(16),e.Gauge=n(17),e.Histogram=n(6),e.Meter=n(9),e.Timer=n(20)},function(t,e,n){"use strict";var i=n(7);function r(t){t=t||{},this._sample=t.sample||new i,this._min=null,this._max=null,this._count=0,this._sum=0,this._varianceM=0,this._varianceS=0}r.prototype.update=function(t){this._count++,this._sum+=t,this._sample.update(t),this._updateMin(t),this._updateMax(t),this._updateVariance(t)},r.prototype.percentiles=function(t){var e,n,i,r,s,o=this._sample.toArray().sort(function(t,e){return t===e?0:t-e}),a={};for(e=0;e<t.length;e++)n=t[e],o.length?(i=n*(o.length+1))<1?a[n]=o[0]:i>=o.length?a[n]=o[o.length-1]:(r=o[Math.floor(i)-1],s=o[Math.ceil(i)-1],a[n]=r+(i-Math.floor(i))*(s-r)):a[n]=null;return a},r.prototype.reset=function(){this.constructor()},r.prototype.hasValues=function(){return this._count>0},r.prototype.toJSON=function(){var t=this.percentiles([.5,.75,.95,.99,.999]);return{min:this._min,max:this._max,sum:this._sum,variance:this._calculateVariance(),mean:this._calculateMean(),stddev:this._calculateStddev(),count:this._count,median:t[.5],p75:t[.75],p95:t[.95],p99:t[.99],p999:t[.999]}},r.prototype._updateMin=function(t){(null===this._min||t<this._min)&&(this._min=t)},r.prototype._updateMax=function(t){(null===this._max||t>this._max)&&(this._max=t)},r.prototype._updateVariance=function(t){if(1===this._count)return this._varianceM=t,t;var e=this._varianceM;this._varianceM+=(t-e)/this._count,this._varianceS+=(t-e)*(t-this._varianceM)},r.prototype._calculateMean=function(){return 0===this._count?0:this._sum/this._count},r.prototype._calculateVariance=function(){return this._count<=1?null:this._varianceS/(this._count-1)},r.prototype._calculateStddev=function(){return this._count<1?null:Math.sqrt(this._calculateVariance())},t.exports=r},function(t,e,n){"use strict";var i=n(8),r=n(3);function s(t){t=t||{},this._elements=new i({score:function(t){return-t.priority}}),this._rescaleInterval=t.rescaleInterval||s.RESCALE_INTERVAL,this._alpha=t.alpha||s.ALPHA,this._size=t.size||s.SIZE,this._random=t.random||this._random,this._landmark=null,this._nextRescale=null}s.RESCALE_INTERVAL=r.HOURS,s.ALPHA=.015,s.SIZE=1028,s.prototype.update=function(t,e){var n=Date.now();this._landmark||(this._landmark=n,this._nextRescale=this._landmark+this._rescaleInterval),e=e||n;var i=this._elements.size()+1,r={priority:this._priority(e-this._landmark),value:t};i<=this._size?this._elements.add(r):r.priority>this._elements.first().priority&&(this._elements.removeFirst(),this._elements.add(r)),n>=this._nextRescale&&this._rescale(n)},s.prototype.toSortedArray=function(){return this._elements.toSortedArray().map(function(t){return t.value})},s.prototype.toArray=function(){return this._elements.toArray().map(function(t){return t.value})},s.prototype._weight=function(t){return Math.exp(this._alpha*(t/1e3))},s.prototype._priority=function(t){return this._weight(t)/this._random()},s.prototype._random=function(){return Math.random()},s.prototype._rescale=function(t){t=t||Date.now();var e=this._landmark;this._landmark=t||Date.now(),this._nextRescale=t+this._rescaleInterval;var n=this._priority(-(this._landmark-e));this._elements.toArray().forEach(function(t){t.priority*=n})},t.exports=s},function(t,e,n){"use strict";function i(t){t=t||{},this._elements=t.elements||[],this._score=t.score||this._score}i.prototype.add=function(){var t,e;for(t=0;t<arguments.length;t++)e=arguments[t],this._elements.push(e),this._bubble(this._elements.length-1)},i.prototype.first=function(){return this._elements[0]},i.prototype.removeFirst=function(){var t=this._elements[0],e=this._elements.pop();return this._elements.length>0&&(this._elements[0]=e,this._sink(0)),t},i.prototype.clone=function(){return new i({elements:this.toArray(),score:this._score})},i.prototype.toSortedArray=function(){for(var t,e=[],n=this.clone();void 0!==(t=n.removeFirst());)e.push(t);return e},i.prototype.toArray=function(){return[].concat(this._elements)},i.prototype.size=function(){return this._elements.length},i.prototype._bubble=function(t){for(var e,n,i=this._elements[t],r=this._score(i);t>0&&(e=this._parentIndex(t),n=this._elements[e],!(r<=this._score(n)));)this._elements[e]=i,this._elements[t]=n,t=e},i.prototype._sink=function(t){for(var e,n,i,r,s,o,a,u,h=this._elements[t],c=this._score(h),l=this._elements.length;;){for(e=null,n=null,i=null,r=this._childIndexes(t),s=0;s<r.length&&!((o=r[s])>=l);s++)a=this._elements[o],(u=this._score(a))>c&&(null===n||n<u)&&(e=o,n=u,i=a);if(null===e)break;this._elements[e]=h,this._elements[t]=i,t=e}},i.prototype._parentIndex=function(t){return Math.floor((t-1)/2)},i.prototype._childIndexes=function(t){return[2*t+1,2*t+2]},i.prototype._score=function(t){return t.valueOf()},t.exports=i},function(t,e,n){"use strict";(function(e){var i=n(3),r=n(11);n(4);function s(t){t=t||{},this._rateUnit=t.rateUnit||s.RATE_UNIT,this._tickInterval=t.tickInterval||s.TICK_INTERVAL,t.getTime&&(this._getTime=t.getTime),this._m1Rate=new r(i.MINUTES,this._tickInterval),this._m5Rate=new r(5*i.MINUTES,this._tickInterval),this._m15Rate=new r(15*i.MINUTES,this._tickInterval),this._count=0,this._currentSum=0,this._startTime=this._getTime(),this._lastToJSON=this._getTime(),this._interval=setInterval(this._tick.bind(this),s.TICK_INTERVAL)}s.RATE_UNIT=i.SECONDS,s.TICK_INTERVAL=5*i.SECONDS,s.prototype.mark=function(t){this._interval||this.start(),t=t||1,this._count+=t,this._currentSum+=t,this._m1Rate.update(t),this._m5Rate.update(t),this._m15Rate.update(t)},s.prototype.start=function(){},s.prototype.end=function(){clearInterval(this._interval),this._interval=null},s.prototype.ref=function(){this._interval&&this._interval.ref&&this._interval.ref()},s.prototype.unref=function(){this._interval&&this._interval.unref&&this._interval.unref()},s.prototype._tick=function(){this._m1Rate.tick(),this._m5Rate.tick(),this._m15Rate.tick()},s.prototype.reset=function(){this.end(),this.constructor()},s.prototype.meanRate=function(){if(0===this._count)return 0;var t=this._getTime()-this._startTime;return this._count/t*this._rateUnit},s.prototype.currentRate=function(){var t=this._currentSum/(this._getTime()-this._lastToJSON)*this._rateUnit;return this._currentSum=0,this._lastToJSON=this._getTime(),t||0},s.prototype.toJSON=function(){return{mean:this.meanRate(),count:this._count,currentRate:this.currentRate(),"1MinuteRate":this._m1Rate.rate(this._rateUnit),"5MinuteRate":this._m5Rate.rate(this._rateUnit),"15MinuteRate":this._m15Rate.rate(this._rateUnit)}},s.prototype._getTime=function(){if(!e.hrtime)return(new Date).getTime();var t=e.hrtime();return 1e3*t[0]+t[1]/1e6},t.exports=s}).call(e,n(10))},function(t,e){var n,i,r=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(t){n=s}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(t){i=o}}();var u,h=[],c=!1,l=-1;function p(){c&&u&&(c=!1,u.length?h=u.concat(h):l=-1,h.length&&_())}function _(){if(!c){var t=a(p);c=!0;for(var e=h.length;e;){for(u=h,h=[];++l<e;)u&&u[l].run();l=-1,e=h.length}u=null,c=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function m(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new f(t,e)),1!==h.length||c||a(_)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,n){"use strict";var i=n(3);function r(t,e){this._timePeriod=t||i.MINUTE,this._tickInterval=e||r.TICK_INTERVAL,this._alpha=1-Math.exp(-this._tickInterval/this._timePeriod),this._count=0,this._rate=0}r.TICK_INTERVAL=5*i.SECONDS,r.prototype.update=function(t){this._count+=t},r.prototype.tick=function(){var t=this._count/this._tickInterval;this._count=0,this._rate+=this._alpha*(t-this._rate)},r.prototype.rate=function(t){return(this._rate||0)*t},t.exports=r},function(t,e,n){t.exports=n(13)},function(t,e,n){(function(e){const i=("undefined"!=typeof window?window:e).XP||n(1),r=n(14),s=n(22),o=n(23),a=n(24);t.exports=new i.Class("XPMonitor",{initialize(){this.counters={},this.gauges={},this.histograms={},this.meters={}},counter(t,e){return this.counters[t]=this.counters[t]||new r(e)},gauge(t,e){return this.gauges[t]=this.gauges[t]||new s(e)},histogram(t,e){return this.histograms[t]=this.histograms[t]||new o(e)},meter(t,e){return this.meters[t]=this.meters[t]||new a(e)},counters:{set(t){return this.counters||t},validate:t=>!i.isObject(t)&&"Object"},gauges:{set(t){return this.gauges||t},validate:t=>!i.isObject(t)&&"Object"},histograms:{set(t){return this.histograms||t},validate:t=>!i.isObject(t)&&"Object"},meters:{set(t){return this.meters||t},validate:t=>!i.isObject(t)&&"Object"}}),"undefined"!=typeof window&&(window.XPMonitor=t.exports)}).call(e,n(0))},function(t,e,n){(function(e){const i="undefined"!=typeof window?window:e,r=n(2),s=i.XP||n(1);t.exports=new s.Class("Counter",{initialize(t){this.options=t,this.default=this.options.default||0,this.adaptee=new r.Counter({count:this.default})},decrement(t=1){s.assertArgument(s.isFinite(t),1,"number"),this.adaptee.dec(t)},increment(t=1){s.assertArgument(s.isFinite(t),1,"number"),this.adaptee.inc(t)},measure(){return this.adaptee.toJSON()},reset(t=0){s.assertArgument(s.isFinite(t),1,"number"),this.adaptee.reset(t)},adaptee:{set(t){return this.adaptee||t},validate:t=>!s.isObject(t)&&"Object"},default:{set(t){return s.isDefined(this.default)?this.default:t},validate:t=>!s.isFinite(t)&&"number"}})}).call(e,n(0))},function(t,e,n){"use strict";var i=n(5);function r(t){this.name=t,this._metrics={}}r.prototype.register=function(t,e){this._metrics[t]=e},r.prototype.toJSON=function(){var t,e={};for(t in this._metrics)this._metrics.hasOwnProperty(t)&&(e[t]=this._metrics[t].toJSON());if(!this.name)return e;var n={};return n[this.name]=e,n},r.prototype.end=function(){var t=this._metrics;Object.keys(t).forEach(function(e){var n=t[e];n.end&&n.end()})},Object.keys(i).forEach(function(t){var e=i[t],n=t.substr(0,1).toLowerCase()+t.substr(1);r.prototype[n]=function(t,n){if(!t)throw new Error("Collection.NoMetricName");if(this._metrics[t])return this._metrics[t];var i=new e(n);return this.register(t,i),i}}),t.exports=r},function(t,e,n){"use strict";function i(t){t=t||{},this._count=t.count||0}i.prototype.toJSON=function(){return this._count},i.prototype.inc=function(t){this._count+=arguments.length?t:1},i.prototype.dec=function(t){this._count-=arguments.length?t:1},i.prototype.reset=function(t){this._count=t||0},t.exports=i},function(t,e,n){"use strict";function i(t){this._readFn=t}i.prototype.toJSON=function(){return this._readFn()},t.exports=i},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){
//
//
//
function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function r(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,o,a,u,h;if(this._events||(this._events={}),"error"===t&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var c=new Error('Uncaught, unspecified "error" event. ('+e+")");throw c.context=e,c}if(s(n=this._events[t]))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(r(n))for(a=Array.prototype.slice.call(arguments,1),o=(h=n.slice()).length,u=0;u<o;u++)h[u].apply(this,a);return!0},n.prototype.addListener=function(t,e){var o;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?r(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,r(this._events[t])&&!this._events[t].warned&&(o=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[t].length>o&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){if(!i(e))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(t,r),n||(n=!0,e.apply(this,arguments))}return r.listener=e,this.on(t,r),this},n.prototype.removeListener=function(t,e){var n,s,o,a;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(o=(n=this._events[t]).length,s=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(r(n)){for(a=o;a-- >0;)if(n[a]===e||n[a].listener&&n[a].listener===e){s=a;break}if(s<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(s,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(i(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){"use strict";var i=n(6),r=n(9),s=n(4);function o(t){t=t||{},this._meter=t.meter||new r,this._histogram=t.histogram||new i,this._getTime=t.getTime}o.prototype.start=function(){var t=this,e=new s({getTime:this._getTime});return e.once("end",function(e){t.update(e)}),e},o.prototype.update=function(t){this._meter.mark(),this._histogram.update(t)},o.prototype.reset=function(){this._meter.reset(),this._histogram.reset()},o.prototype.end=function(){this._meter.end()},o.prototype.ref=function(){this._meter.ref()},o.prototype.unref=function(){this._meter.unref()},o.prototype.toJSON=function(){return{meter:this._meter.toJSON(),histogram:this._histogram.toJSON()}},t.exports=o},function(t,e,n){"use strict";e.units=n(3),e.BinaryHeap=n(8),e.Stopwatch=n(4),e.ExponentiallyDecayingSample=n(7),e.ExponentiallyMovingWeightedAverage=n(11)},function(t,e,n){(function(e){const i="undefined"!=typeof window?window:e,r=n(2),s=i.XP||n(1);t.exports=new s.Class("Gauge",{initialize(t){this.options=t,this.computer=this.options.computer,this.adaptee=new r.Gauge(this.computer)},measure(){return this.adaptee.toJSON()},adaptee:{set(t){return this.adaptee||t},validate:t=>!s.isObject(t)&&"Object"},computer:{set(t){return this.computer||t},validate:t=>!s.isFunction(t)&&"Function"}})}).call(e,n(0))},function(t,e,n){(function(e){const i="undefined"!=typeof window?window:e,r=n(2),s=i.XP||n(1);t.exports=new s.Class("Histogram",{initialize(){this.adaptee=new r.Histogram},measure(){return this.adaptee.toJSON()},push(t,e){s.assertArgument(s.isFinite(t),1,"number"),s.assertArgument(s.isVoid(e)||s.isInt(e,!0),2,"number"),this.adaptee.update(t,s.isVoid(e)?Date.now():e)},reset(){this.adaptee.reset()},adaptee:{set(t){return this.adaptee||t},validate:t=>!s.isObject(t)&&"Object"}})}).call(e,n(0))},function(t,e,n){(function(e){const i="undefined"!=typeof window?window:e,r=n(2),s=i.XP||n(1);t.exports=new s.Class("Meter",{initialize(t){this.options=t,this.interval=this.options.interval||5e3,this.rate=this.options.rate||1e3,this.adaptee=new r.Meter({rateUnit:this.rate,tickInterval:this.interval})},mark(t=1){s.assertArgument(s.isFinite(t),1,"number"),this.adaptee.mark(t)},measure(){return this.adaptee.toJSON()},ref(){this.adaptee.ref()},reset(){this.adaptee.reset()},unref(){this.adaptee.unref()},adaptee:{set(t){return this.adaptee||t},validate:t=>!s.isObject(t)&&"Object"},interval:{set(t){return this.interval||t},validate:t=>!s.isInt(t,!0)&&"number"},rate:{set(t){return this.rate||t},validate:t=>!s.isInt(t,!0)&&"number"}})}).call(e,n(0))}]);